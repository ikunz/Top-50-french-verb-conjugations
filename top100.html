<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top 100 French Verbs + Audio & Conjugation</title>
    <style>
        :root {
            --primary: #002395;
            --accent: #ED2939;
            --vulgar: #d63384;
            --bg: #f4f4f9;
            --text: #333;
            --light-blue: #e3f2fd;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }

        header {
            background-color: var(--primary);
            color: white;
            padding: 1rem;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            flex-shrink: 0;
            z-index: 10;
        }

        h1 { margin: 0; font-size: 1.4rem; }
        p.subtitle { margin: 5px 0 0; opacity: 0.8; font-size: 0.85rem; }

        .container {
            display: flex;
            flex: 1;
            overflow: hidden;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        /* Sidebar */
        .verb-list-container {
            width: 350px;
            background: white;
            border-right: 1px solid #ddd;
            display: flex;
            flex-direction: column;
        }

        .search-box {
            padding: 1rem;
            border-bottom: 1px solid #eee;
            background: #fafafa;
        }

        input[type="text"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 16px;
        }

        .verb-list {
            flex: 1;
            overflow-y: auto;
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .verb-item {
            padding: 12px 20px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background 0.2s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .verb-item:hover { background-color: #f0f4ff; }
        .verb-item.active { 
            background-color: var(--primary); 
            color: white;
            border-left: 5px solid var(--accent);
        }

        /* Main Details Area */
        .verb-details {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            background-image: radial-gradient(#e1e1e1 1px, transparent 1px);
            background-size: 20px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .card {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            max-width: 800px;
            width: 100%;
            border-top: 6px solid var(--accent);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }

        .card.show { opacity: 1; transform: translateY(0); }

        /* Header Section of Card */
        .card-header { text-align: center; margin-bottom: 20px; }
        
        .verb-title-row {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
        }

        .verb-title { font-size: 3rem; color: var(--primary); margin: 0; font-weight: 700; }
        
        .audio-btn {
            background: var(--light-blue);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: transform 0.1s, background 0.2s;
        }
        .audio-btn:hover { transform: scale(1.1); background: #bbdefb; }
        .audio-btn:active { transform: scale(0.95); }

        .verb-translation { font-size: 1.5rem; color: #555; font-weight: 300; margin-top: 5px; }

        .tags { display: flex; gap: 10px; justify-content: center; margin-top: 10px; }
        .tag { padding: 4px 12px; border-radius: 15px; font-size: 0.8rem; font-weight: bold; text-transform: uppercase; }
        .tag.regular { background: #e3f2fd; color: #1565c0; }
        .tag.irregular { background: #fff3e0; color: #ef6c00; }
        .tag.vulgar { background: #fce4ec; color: #c2185b; }
        .tag.slang { background: #f3e5f5; color: #7b1fa2; }

        /* Conjugation Table */
        .conjugation-section {
            margin-top: 30px;
            border: 1px solid #eee;
            border-radius: 10px;
            overflow: hidden;
        }

        .section-title {
            background: #f8f9fa;
            padding: 10px 20px;
            font-weight: bold;
            color: #666;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
        }

        .conj-grid {
            display: grid;
            grid-template-columns: 1fr 1fr; /* Two columns for compact view */
        }

        .conj-item {
            padding: 15px 20px;
            border-bottom: 1px solid #f0f0f0;
            border-right: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .conj-text { font-size: 1.1rem; }
        .pronoun { color: #888; margin-right: 8px; font-size: 0.9em; }
        .verb-form { font-weight: 600; color: var(--primary); }
        
        .conj-audio-btn {
            background: transparent;
            border: 1px solid #eee;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            cursor: pointer;
            font-size: 1rem;
        }
        .conj-audio-btn:hover { background: #f0f4ff; color: var(--primary); border-color: var(--primary); }

        /* Example Box */
        .example-box {
            margin-top: 30px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
        }
        .example-sentence { font-size: 1.1rem; font-weight: 500; margin-bottom: 5px; }

        /* Mobile */
        @media (max-width: 768px) {
            .container { flex-direction: column; }
            .verb-list-container { width: 100%; height: 35%; }
            .verb-details { height: 65%; padding: 15px; }
            .card { padding: 20px; }
            .verb-title { font-size: 2rem; }
            .conj-grid { grid-template-columns: 1fr; } /* Stack conjugations on mobile */
            .conj-item { border-right: none; }
        }
    </style>
</head>
<body>

<header>
    <h1>ðŸ‡«ðŸ‡· French Verb Master</h1>
    <p class="subtitle">100 Verbs â€¢ Authentic Audio â€¢ Conjugation Charts</p>
</header>

<div class="container">
    <div class="verb-list-container">
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search (e.g. Ãªtre, go)...">
        </div>
        <ul class="verb-list" id="verbList"></ul>
    </div>

    <div class="verb-details">
        <div class="card" id="detailCard">
            
            <div class="card-header">
                <div class="verb-title-row">
                    <h2 class="verb-title" id="d-verb">Bonjour</h2>
                    <button class="audio-btn" id="mainAudioBtn" title="Pronounce Infinitive">ðŸ”Š</button>
                </div>
                <div class="tags" id="d-tags"></div>
                <p class="verb-translation" id="d-trans">Select a verb</p>
            </div>

            <div class="conjugation-section">
                <div class="section-title">
                    <span>Present Tense (Indicatif PrÃ©sent)</span>
                    <span style="font-size: 0.8em; font-weight: normal;">Click ðŸ”Š to listen</span>
                </div>
                <div class="conj-grid" id="conjGrid">
                    </div>
            </div>

            <div class="example-box">
                <div class="example-sentence">
                    <span id="d-ex-fr">...</span> 
                    <button class="audio-btn" style="width:24px; height:24px; font-size:0.8rem; display:inline-flex; vertical-align:middle; margin-left:10px;" id="exAudioBtn">ðŸ”Š</button>
                </div>
                <div class="example-trans" id="d-ex-en">...</div>
            </div>

        </div>
    </div>
</div>

<script>
    /* DATA STRUCTURE 
       Top 100 Verbs. 
       Note: 'forms' is an array of 6 strings [je, tu, il, nous, vous, ils].
       If 'forms' is null, the code will auto-conjugate based on standard regular rules.
    */
    const verbs = [
        { fr: "Ãªtre", en: "to be", group: "Irregular", forms: ["suis", "es", "est", "sommes", "Ãªtes", "sont"], exFr: "Je suis prÃªt.", exEn: "I am ready." },
        { fr: "avoir", en: "to have", group: "Irregular", forms: ["ai", "as", "a", "avons", "avez", "ont"], exFr: "J'ai un chat.", exEn: "I have a cat." },
        { fr: "aller", en: "to go", group: "Irregular", forms: ["vais", "vas", "va", "allons", "allez", "vont"], exFr: "Je vais bien.", exEn: "I am doing well." },
        { fr: "faire", en: "to do / make", group: "Irregular", forms: ["fais", "fais", "fait", "faisons", "faites", "font"], exFr: "Il fait chaud.", exEn: "It is hot." },
        { fr: "dire", en: "to say", group: "Irregular", forms: ["dis", "dis", "dit", "disons", "dites", "disent"], exFr: "Que dis-tu ?", exEn: "What are you saying?" },
        { fr: "pouvoir", en: "can / be able", group: "Irregular", forms: ["peux", "peux", "peut", "pouvons", "pouvez", "peuvent"], exFr: "Je peux venir.", exEn: "I can come." },
        { fr: "vouloir", en: "to want", group: "Irregular", forms: ["veux", "veux", "veut", "voulons", "voulez", "veulent"], exFr: "Je veux Ã§a.", exEn: "I want that." },
        { fr: "savoir", en: "to know (facts)", group: "Irregular", forms: ["sais", "sais", "sait", "savons", "savez", "savent"], exFr: "Je ne sais pas.", exEn: "I don't know." },
        { fr: "voir", en: "to see", group: "Irregular", forms: ["vois", "vois", "voit", "voyons", "voyez", "voient"], exFr: "Je vois tout.", exEn: "I see everything." },
        { fr: "devoir", en: "must / have to", group: "Irregular", forms: ["dois", "dois", "doit", "devons", "devez", "doivent"], exFr: "Tu dois manger.", exEn: "You must eat." },
        { fr: "venir", en: "to come", group: "Irregular", forms: ["viens", "viens", "vient", "venons", "venez", "viennent"], exFr: "Il vient d'arriver.", exEn: "He just arrived." },
        { fr: "suivre", en: "to follow", group: "Irregular", forms: ["suis", "suis", "suit", "suivons", "suivez", "suivent"], exFr: "Suivez-moi.", exEn: "Follow me." },
        { fr: "parler", en: "to speak", group: "Regular -er", forms: null, exFr: "Parlez-vous anglais ?", exEn: "Do you speak English?" },
        { fr: "prendre", en: "to take", group: "Irregular", forms: ["prends", "prends", "prend", "prenons", "prenez", "prennent"], exFr: "Je prends le bus.", exEn: "I take the bus." },
        { fr: "croire", en: "to believe", group: "Irregular", forms: ["crois", "crois", "croit", "croyons", "croyez", "croient"], exFr: "Je te crois.", exEn: "I believe you." },
        { fr: "aimer", en: "to like / love", group: "Regular -er", forms: null, exFr: "Je t'aime.", exEn: "I love you." },
        { fr: "falloir", en: "to be necessary", group: "Impersonal", forms: ["", "", "faut", "", "", ""], exFr: "Il faut y aller.", exEn: "We must go." },
        { fr: "passer", en: "to pass", group: "Regular -er", forms: null, exFr: "Le temps passe.", exEn: "Time passes." },
        { fr: "penser", en: "to think", group: "Regular -er", forms: null, exFr: "Je pense que oui.", exEn: "I think so." },
        { fr: "attendre", en: "to wait", group: "Regular -re", forms: null, exFr: "J'attends ici.", exEn: "I'm waiting here." },
        { fr: "trouver", en: "to find", group: "Regular -er", forms: null, exFr: "J'ai trouvÃ© !", exEn: "I found it!" },
        { fr: "laisser", en: "to leave/let", group: "Regular -er", forms: null, exFr: "Laisse-moi.", exEn: "Leave me." },
        { fr: "arriver", en: "to arrive", group: "Regular -er", forms: null, exFr: "J'arrive !", exEn: "I'm coming!" },
        { fr: "donner", en: "to give", group: "Regular -er", forms: null, exFr: "Donne-moi Ã§a.", exEn: "Give me that." },
        { fr: "regarder", en: "to look at", group: "Regular -er", forms: null, exFr: "Regarde !", exEn: "Look!" },
        { fr: "appeler", en: "to call", group: "Stem-changing", forms: ["appelle", "appelles", "appelle", "appelons", "appelez", "appellent"], exFr: "Je m'appelle Jean.", exEn: "My name is Jean." },
        { fr: "partir", en: "to leave", group: "Irregular", forms: ["pars", "pars", "part", "partons", "partez", "partent"], exFr: "On part ?", exEn: "Are we leaving?" },
        { fr: "mettre", en: "to put", group: "Irregular", forms: ["mets", "mets", "met", "mettons", "mettez", "mettent"], exFr: "Mets ton manteau.", exEn: "Put on your coat." },
        { fr: "rester", en: "to stay", group: "Regular -er", forms: null, exFr: "Reste ici.", exEn: "Stay here." },
        { fr: "arrÃªter", en: "to stop", group: "Regular -er", forms: null, exFr: "ArrÃªte !", exEn: "Stop!" },
        { fr: "connaÃ®tre", en: "to know (people)", group: "Irregular", forms: ["connais", "connais", "connait", "connaissons", "connaissez", "connaissent"], exFr: "Je connais ce gars.", exEn: "I know this guy." },
        { fr: "demander", en: "to ask", group: "Regular -er", forms: null, exFr: "Je demande pourquoi.", exEn: "I ask why." },
        { fr: "comprendre", en: "to understand", group: "Irregular", forms: ["comprends", "comprends", "comprend", "comprenons", "comprenez", "comprennent"], exFr: "Je comprends.", exEn: "I understand." },
        { fr: "sortir", en: "to go out", group: "Irregular", forms: ["sors", "sors", "sort", "sortons", "sortez", "sortent"], exFr: "Il sort ce soir.", exEn: "He goes out tonight." },
        { fr: "entendre", en: "to hear", group: "Regular -re", forms: null, exFr: "Tu entends ?", exEn: "Do you hear?" },
        { fr: "chercher", en: "to look for", group: "Regular -er", forms: null, exFr: "Je cherche mes clÃ©s.", exEn: "I look for my keys." },
        { fr: "rÃ©pondre", en: "to answer", group: "Regular -re", forms: null, exFr: "RÃ©ponds-moi.", exEn: "Answer me." },
        { fr: "rendre", en: "to render/return", group: "Regular -re", forms: null, exFr: "Rends-le moi.", exEn: "Give it back." },
        { fr: "vivre", en: "to live", group: "Irregular", forms: ["vis", "vis", "vit", "vivons", "vivez", "vivent"], exFr: "Je vis ici.", exEn: "I live here." },
        { fr: "revenir", en: "to come back", group: "Irregular", forms: ["reviens", "reviens", "revient", "revenons", "revenez", "reviennent"], exFr: "Je reviens.", exEn: "I'm coming back." },
        { fr: "tenir", en: "to hold", group: "Irregular", forms: ["tiens", "tiens", "tient", "tenons", "tenez", "tiennent"], exFr: "Tiens Ã§a.", exEn: "Hold this." },
        { fr: "porter", en: "to wear/carry", group: "Regular -er", forms: null, exFr: "Elle porte du rouge.", exEn: "She wears red." },
        { fr: "entrer", en: "to enter", group: "Regular -er", forms: null, exFr: "On entre ?", exEn: "Do we enter?" },
        { fr: "devenir", en: "to become", group: "Irregular", forms: ["deviens", "deviens", "devient", "devenons", "devenez", "deviennent"], exFr: "Ã‡a devient dur.", exEn: "It's becoming hard." },
        { fr: "Ã©crire", en: "to write", group: "Irregular", forms: ["Ã©cris", "Ã©cris", "Ã©crit", "Ã©crivons", "Ã©crivez", "Ã©crivent"], exFr: "J'Ã©cris un livre.", exEn: "I write a book." },
        { fr: "jouer", en: "to play", group: "Regular -er", forms: null, exFr: "On joue ?", exEn: "Shall we play?" },
        { fr: "finir", en: "to finish", group: "Regular -ir", forms: ["finis", "finis", "finit", "finissons", "finissez", "finissent"], exFr: "J'ai fini.", exEn: "I finished." },
        { fr: "perdre", en: "to lose", group: "Regular -re", forms: null, exFr: "Je perds tout.", exEn: "I lose everything." },
        { fr: "dormir", en: "to sleep", group: "Irregular", forms: ["dors", "dors", "dort", "dormons", "dormez", "dorment"], exFr: "Il dort.", exEn: "He is sleeping." },
        { fr: "manger", en: "to eat", group: "Spelling-change", forms: ["mange", "manges", "mange", "mangeons", "mangez", "mangent"], exFr: "Je mange.", exEn: "I eat." },
        { fr: "foutre", en: "to do (vulgar)", group: "Vulgar", forms: ["fous", "fous", "fout", "foutons", "foutez", "foutent"], exFr: "Je m'en fous.", exEn: "I don't give a damn." },
        { fr: "bosser", en: "to work (slang)", group: "Slang", forms: null, exFr: "Je bosse dur.", exEn: "I work hard." },
        { fr: "bouffer", en: "to eat (slang)", group: "Slang", forms: null, exFr: "On bouffe quoi ?", exEn: "What are we eating?" },
        { fr: "kiffer", en: "to like (slang)", group: "Slang", forms: null, exFr: "Je kiffe Ã§a.", exEn: "I love this." },
        { fr: "chier", en: "to sh*t (vulgar)", group: "Vulgar", forms: null, exFr: "Fait chier.", exEn: "It sucks." },
        { fr: "rappeler", en: "to call back", group: "Stem-changing", forms: ["rappelle", "rappelles", "rappelle", "rappelons", "rappelez", "rappellent"], exFr: "Rappelle-moi.", exEn: "Call me back." },
        { fr: "sembler", en: "to seem", group: "Regular -er", forms: null, exFr: "Il semble triste.", exEn: "He seems sad." },
        { fr: "commencer", en: "to start", group: "Spelling-change", forms: ["commence", "commences", "commence", "commenÃ§ons", "commencez", "commencent"], exFr: "On commence.", exEn: "We start." },
        { fr: "montrer", en: "to show", group: "Regular -er", forms: null, exFr: "Montre-moi.", exEn: "Show me." },
        { fr: "marcher", en: "to walk/work", group: "Regular -er", forms: null, exFr: "Ã‡a marche.", exEn: "It works." },
        { fr: "compter", en: "to count", group: "Regular -er", forms: null, exFr: "Compte sur moi.", exEn: "Count on me." },
        { fr: "boire", en: "to drink", group: "Irregular", forms: ["bois", "bois", "boit", "buvons", "buvez", "boivent"], exFr: "Je bois de l'eau.", exEn: "I drink water." },
        { fr: "garder", en: "to keep", group: "Regular -er", forms: null, exFr: "Garde Ã§a.", exEn: "Keep that." },
        { fr: "mourir", en: "to die", group: "Irregular", forms: ["meurs", "meurs", "meurt", "mourons", "mourez", "meurent"], exFr: "Je meurs de faim.", exEn: "I'm dying of hunger." },
        { fr: "sentir", en: "to smell/feel", group: "Irregular", forms: ["sens", "sens", "sent", "sentons", "sentez", "sentent"], exFr: "Ã‡a sent bon.", exEn: "It smells good." },
        { fr: "quitter", en: "to leave", group: "Regular -er", forms: null, exFr: "Ne me quitte pas.", exEn: "Don't leave me." },
        { fr: "payer", en: "to pay", group: "Stem-changing", forms: ["paie", "paies", "paie", "payons", "payez", "paient"], exFr: "Combien je paie ?", exEn: "How much do I pay?" },
        { fr: "acheter", en: "to buy", group: "Stem-changing", forms: ["achÃ¨te", "achÃ¨tes", "achÃ¨te", "achetons", "achetez", "achÃ¨tent"], exFr: "J'achÃ¨te du pain.", exEn: "I buy bread." },
        { fr: "aider", en: "to help", group: "Regular -er", forms: null, exFr: "Aide-moi.", exEn: "Help me." },
        { fr: "niquer", en: "to screw (vulgar)", group: "Vulgar", forms: null, exFr: "Il a tout niquÃ©.", exEn: "He ruined everything." },
        { fr: "Ã©couter", en: "to listen", group: "Regular -er", forms: null, exFr: "Ã‰coute.", exEn: "Listen." },
        { fr: "continuer", en: "to continue", group: "Regular -er", forms: null, exFr: "Continue.", exEn: "Continue." },
        { fr: "servir", en: "to serve", group: "Irregular", forms: ["sers", "sers", "sert", "servons", "servez", "servent"], exFr: "Je sers Ã  rien.", exEn: "I'm useless." },
        { fr: "fermer", en: "to close", group: "Regular -er", forms: null, exFr: "Ferme la porte.", exEn: "Close the door." },
        { fr: "descendre", en: "to go down", group: "Regular -re", forms: null, exFr: "Je descends.", exEn: "I'm going down." },
        { fr: "oublier", en: "to forget", group: "Regular -er", forms: null, exFr: "N'oublie pas.", exEn: "Don't forget." },
        { fr: "apprendre", en: "to learn", group: "Irregular", forms: ["apprends", "apprends", "apprend", "apprenons", "apprenez", "apprennent"], exFr: "J'apprends vite.", exEn: "I learn fast." },
        { fr: "pleurer", en: "to cry", group: "Regular -er", forms: null, exFr: "Il pleure.", exEn: "He is crying." },
        { fr: "espÃ©rer", en: "to hope", group: "Stem-changing", forms: ["espÃ¨re", "espÃ¨res", "espÃ¨re", "espÃ©rons", "espÃ©rez", "espÃ¨rent"], exFr: "J'espÃ¨re.", exEn: "I hope." },
        { fr: "rigoler", en: "to joke", group: "Regular -er", forms: null, exFr: "Tu rigoles ?", exEn: "Are you kidding?" },
        { fr: "tuer", en: "to kill", group: "Regular -er", forms: null, exFr: "Ne me tue pas.", exEn: "Don't kill me." },
        { fr: "changer", en: "to change", group: "Spelling-change", forms: ["change", "changes", "change", "changeons", "changez", "changent"], exFr: "Je change.", exEn: "I change." },
        { fr: "travailler", en: "to work", group: "Regular -er", forms: null, exFr: "Je travaille.", exEn: "I work." },
        { fr: "essayer", en: "to try", group: "Stem-changing", forms: ["essaie", "essaies", "essaie", "essayons", "essayez", "essaient"], exFr: "J'essaie.", exEn: "I try." },
        { fr: "recevoir", en: "to receive", group: "Irregular", forms: ["reÃ§ois", "reÃ§ois", "reÃ§oit", "recevons", "recevez", "reÃ§oivent"], exFr: "Je reÃ§ois rien.", exEn: "I receive nothing." },
        { fr: "gagner", en: "to win", group: "Regular -er", forms: null, exFr: "J'ai gagnÃ©.", exEn: "I won." },
        { fr: "refuser", en: "to refuse", group: "Regular -er", forms: null, exFr: "Je refuse.", exEn: "I refuse." },
        { fr: "lire", en: "to read", group: "Irregular", forms: ["lis", "lis", "lit", "lisons", "lisez", "lisent"], exFr: "Je lis.", exEn: "I read." },
        { fr: "vendre", en: "to sell", group: "Regular -re", forms: null, exFr: "Je vends tout.", exEn: "I sell everything." },
        { fr: "prÃ©parer", en: "to prepare", group: "Regular -er", forms: null, exFr: "Je prÃ©pare.", exEn: "I prepare." },
        { fr: "choisir", en: "to choose", group: "Regular -ir", forms: ["choisis", "choisis", "choisit", "choisissons", "choisissez", "choisissent"], exFr: "Choisis.", exEn: "Choose." },
        { fr: "tomber", en: "to fall", group: "Regular -er", forms: null, exFr: "Je tombe.", exEn: "I fall." },
        { fr: "casser", en: "to break", group: "Regular -er", forms: null, exFr: "C'est cassÃ©.", exEn: "It's broken." },
        { fr: "dÃ©tester", en: "to hate", group: "Regular -er", forms: null, exFr: "Je dÃ©teste Ã§a.", exEn: "I hate that." },
        { fr: "adorer", en: "to adore", group: "Regular -er", forms: null, exFr: "J'adore !", exEn: "I love it!" },
        { fr: "piger", en: "to understand (slang)", group: "Slang", forms: null, exFr: "T'as pigÃ© ?", exEn: "Got it?" },
        { fr: "gueuler", en: "to yell (slang)", group: "Slang", forms: null, exFr: "Il gueule.", exEn: "He yells." },
        { fr: "emmerder", en: "to annoy (vulgar)", group: "Vulgar", forms: null, exFr: "Je t'emmerde.", exEn: "Screw you." },
        { fr: "se barrer", en: "to scram (slang)", group: "Slang", forms: ["me barre", "te barres", "se barre", "nous barrons", "vous barrez", "se barrent"], exFr: "Je me barre.", exEn: "I'm outta here." }
    ];

    const pronouns = ["Je / J'", "Tu", "Il / Elle / On", "Nous", "Vous", "Ils / Elles"];
    const verbListEl = document.getElementById('verbList');
    const searchInput = document.getElementById('searchInput');
    const detailCard = document.getElementById('detailCard');

    // === Pronunciation Logic (Web Speech API) ===
    function speak(text) {
        // Cancel any current speech
        window.speechSynthesis.cancel();

        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = 'fr-FR'; // Force French
        utterance.rate = 0.9; // Slightly slower for clarity
        
        // Optional: Select a specific voice if available (optimizes for quality)
        const voices = window.speechSynthesis.getVoices();
        const frVoice = voices.find(v => v.lang.includes('fr'));
        if (frVoice) utterance.voice = frVoice;

        window.speechSynthesis.speak(utterance);
    }

    // === Conjugation Logic ===
    function getConjugation(verb) {
        if (verb.forms) return verb.forms; // Return hardcoded forms if exist

        // Auto-conjugate Regulars
        const v = verb.fr;
        if (v.endsWith("er")) {
            const stem = v.slice(0, -2);
            return [stem+"e", stem+"es", stem+"e", stem+"ons", stem+"ez", stem+"ent"];
        }
        if (v.endsWith("ir") && !verb.group.includes("Irregular")) {
            const stem = v.slice(0, -2); // Regular IR (finir)
            return [stem+"is", stem+"is", stem+"it", stem+"issons", stem+"issez", stem+"issent"];
        }
        if (v.endsWith("re")) {
            const stem = v.slice(0, -2);
            return [stem+"s", stem+"s", stem, stem+"ons", stem+"ez", stem+"ent"];
        }
        return ["?", "?", "?", "?", "?", "?"]; // Fallback
    }

    // === UI Logic ===
    function renderList(filter = "") {
        verbListEl.innerHTML = "";
        const filtered = verbs.filter(v => 
            v.fr.toLowerCase().includes(filter.toLowerCase()) || 
            v.en.toLowerCase().includes(filter.toLowerCase())
        );

        filtered.forEach((v, index) => {
            const li = document.createElement('li');
            li.className = 'verb-item';
            li.innerHTML = `<strong>${v.fr}</strong> <span>${v.en}</span>`;
            li.onclick = () => selectVerb(v, li);
            verbListEl.appendChild(li);
        });
    }

    function selectVerb(verb, el) {
        document.querySelectorAll('.verb-item').forEach(i => i.classList.remove('active'));
        if(el) el.classList.add('active');

        detailCard.classList.remove('show');
        
        setTimeout(() => {
            // Update Header
            document.getElementById('d-verb').innerText = verb.fr;
            document.getElementById('d-trans').innerText = verb.en;
            
            // Audio Button Event
            const mainBtn = document.getElementById('mainAudioBtn');
            mainBtn.onclick = () => speak(verb.fr);

            // Tags
            const tagContainer = document.getElementById('d-tags');
            let groupClass = 'regular';
            if(verb.group.toLowerCase().includes('irregular')) groupClass = 'irregular';
            if(verb.group.toLowerCase().includes('vulgar')) groupClass = 'vulgar';
            if(verb.group.toLowerCase().includes('slang')) groupClass = 'slang';
            tagContainer.innerHTML = `<span class="tag ${groupClass}">${verb.group}</span>`;

            // Update Conjugation Grid
            const grid = document.getElementById('conjGrid');
            grid.innerHTML = "";
            const forms = getConjugation(verb);
            
            forms.forEach((form, i) => {
                let pronoun = pronouns[i];
                
                // Handle J' for vowels (rough heuristic)
                if (i === 0 && (form.startsWith('a') || form.startsWith('e') || form.startsWith('i') || form.startsWith('o') || form.startsWith('u') || form.startsWith('h'))) {
                    pronoun = "J'";
                } else if (i === 0) {
                    pronoun = "Je";
                }

                // Handle Falloir (Impersonal)
                if(verb.fr === 'falloir' && i !== 2) return; 

                const div = document.createElement('div');
                div.className = 'conj-item';
                
                // Clean pronoun for speech (remove slashes)
                const speechPronoun = pronoun.split('/')[0].trim();
                const speechText = `${speechPronoun} ${form}`;

                div.innerHTML = `
                    <div>
                        <span class="pronoun">${pronoun}</span>
                        <span class="verb-form">${form}</span>
                    </div>
                    <button class="conj-audio-btn">ðŸ”Š</button>
                `;
                
                div.querySelector('button').onclick = () => speak(speechText);
                grid.appendChild(div);
            });

            // Example
            document.getElementById('d-ex-fr').innerText = verb.exFr;
            document.getElementById('d-ex-en').innerText = verb.exEn;
            document.getElementById('exAudioBtn').onclick = () => speak(verb.exFr);
            
            detailCard.classList.add('show');
        }, 100);
    }

    // Init
    searchInput.addEventListener('input', (e) => renderList(e.target.value));
    renderList();
    setTimeout(() => {
        const firstItem = verbListEl.firstElementChild;
        if(firstItem) selectVerb(verbs[0], firstItem);
    }, 100);

</script>

</body>
</html>
